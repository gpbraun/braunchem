\begin{tikzpicture}
    \def\cellWidth{6}
    \tikzset
        {
            electrode/.style=
                {
                    cylinder, 
                    thick,
                    outer sep = -2pt,
                    minimum height = 4cm,
                    minimum width = 0.7cm,
                    aspect = 0.3,
                    draw = #1!75!black,
                    top color = #1!60, 
                    bottom color = #1!60, 
                    middle color = #1!40,
                    shading angle = 90,
                    shape border rotate = 90,
                },
            cell/.style=
                {
                    draw = #1,
                    top color = #1!20, 
                    bottom color = #1!20, 
                    middle color = white,
                    shading angle = 90,
                },
            solution/.style=
                {
                    opacity = 0.25,
                    top color = #1!60, 
                    bottom color = #1, 
                    shading angle = 10,
                },
            battery/.style=
                {
                    rectangle,
                    thick,
                    red,
                    draw=gray!75!black,
                    top color = gray!40, 
                    bottom color = gray!40, 
                    middle color = gray!20,
                    shading angle = 0,
                },
        }
    
    % CÉLULA
    \begin{scope}
        \node [rectangle, minimum width=\cellWidth cm, minimum height=4cm] 
            (cell) at (0, 0) {};

        \draw [thick, cell=gray, line cap=round] 
            (cell.south west) -- 
            (cell.north west) arc(180:0:\cellWidth/2 and 0.4) -- 
            (cell.south east) -- 
            (cell.south west);

        \draw [thick, dashed, draw=gray] 
            (cell.south east) arc(0:180:\cellWidth/2 and 0.4);

        \path[solution=red] 
            (cell.south west) -- 
            ($(cell.north west) - (0,1)$) -- 
            ($(cell.north east) - (0,1)$) -- 
            (cell.south east) -- 
            (cell.south west);
        \path[solution=red] 
            ($(cell.north west) - (0,1)$) arc(180:0:\cellWidth/2 and 0.4) -- cycle;

        \node [anchor=after bottom, electrode=gray, shift={(0.5, 0.75)}] 
            (anode) at (cell.south west) { \rotatebox{90}{anodo} };

        \node [anchor=before bottom, electrode=gray, shift={(-0.5, 0.75)}] 
            (catode) at (cell.south east) { \rotatebox{90}{catodo} };

        \node [anchor=north, shift={(0, -5pt)}] at (anode.top) { \ce{Pt} };
        \node [anchor=north, shift={(0, -5pt)}] at (catode.top) { \ce{Pt} };

        \node [anchor=base east, shift={(0,5pt)}] at (catode.after bottom) { \ce{Mg^{2+} -> } };

        \node [anchor=base west, shift={(0,5pt)}] at (anode.before bottom) { \ce{<- Cl^{-}} };

        \node [anchor=north, shift={(0, -5pt)}] 
            at ($(cell.south west)!0.5!(cell.south)$) { Oxidação };
        \node [anchor=north, shift={(0, -5pt)}] 
            at ($(cell.south east)!0.5!(cell.south)$) { Redução };
    \end{scope}

    % BOLHAS
    \foreach \i in {1,...,30}
        \fill[lime, opacity=0.4] ($(-rnd*0.40, rnd) + (anode.before bottom) + (0.35,0)$) circle (2pt);

    \foreach \i in {1,...,15}
        \fill[lime, opacity=0.4] ($(-rnd*0.40, rnd) + (anode.before bottom) + (0.35,0.9)$) circle (2pt);

    \foreach \i in {1,...,7}
        \fill[lime, opacity=0.4] ($(-rnd*0.40, rnd) + (anode.before bottom) + (0.35,1.8)$) circle (2pt);
        
    \node[pin={[pin edge={thick}, draw=none] below right:{ \ce{Cl2} }}] 
        at (anode.east) {};

    % BATERIA
    \node [battery, minimum width=1cm, minimum height=0.4cm, rounded corners=0.05cm, shift={(0,1.5)}] 
        (voltmeter) at ($(catode.north)!0.5!(anode.north)$) {};

    \node [battery, minimum size=0.7cm, rounded corners=0.05cm, label={[yshift=5pt] Bateria}] 
        at (voltmeter.center) {\Large\Lightning};

    \begin{scope}[red]
        \node [anchor=south east] at (voltmeter.west) {$\boldsymbol{+}$};
        \node [anchor=south west] at (voltmeter.east) {$\boldsymbol{-}$};
    \end{scope}

    % % FIO
    \begin{scope}[very thick, red!75!black, rounded corners=0.5 cm]
        \draw (voltmeter.west) -| (anode.north);
        \draw (voltmeter.east) -| (catode.north);
    \end{scope}
    
    % % ELÉTRONS
    \begin{scope}[red]
        \draw[thick, rounded corners=0.3 cm, ->, line cap=round] 
            ($(voltmeter.east) + (0.6, -0.3)$) -| ($(catode.north) + (-0.3, 0.6)$);
        \node[shift={(-0.7, 0.9)}] at (catode.north) { \ce{e^-} };
    \end{scope}

\end{tikzpicture}